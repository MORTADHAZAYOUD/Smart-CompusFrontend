<!-- Profile Component -->
<div class="profile-container">
  <!-- Page Header -->
  <div class="page-header">
    <div class="header-content">
      <h1>Mon Profil</h1>
      <p>Gérez vos informations personnelles</p>
    </div>
    <button *ngIf="!isEditing" class="edit-btn" (click)="startEditing()">
      <span class="btn-icon">✏️</span>
      Modifier
    </button>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>Chargement de votre profil...</p>
  </div>

  <!-- Profile Content -->
  <div *ngIf="!isLoading" class="profile-content">
    <!-- Profile Card -->
    <div class="profile-card">
      <div class="profile-avatar">
        <div class="avatar-circle">
          {{ student.prenom?.[0] }}{{ student.nom?.[0] }}
        </div>
      </div>
      
      <div class="profile-info">
        <h2>{{ student.prenom }} {{ student.nom }}</h2>
        <p class="student-class">{{ student.classe }}</p>
        <p class="student-email">{{ student.email }}</p>
      </div>
    </div>

    <!-- Details Section -->
    <div class="details-section">
      <h3>Informations Personnelles</h3>
      
      <!-- View Mode -->
      <div *ngIf="!isEditing" class="details-view">
        <div class="detail-group">
          <label>Nom</label>
          <span>{{ student.nom }}</span>
        </div>
        <div class="detail-group">
          <label>Prénom</label>
          <span>{{ student.prenom }}</span>
        </div>
        <div class="detail-group">
          <label>Email</label>
          <span>{{ student.email }}</span>
        </div>
        <div class="detail-group">
          <label>Classe</label>
          <span>{{ student.classe }}</span>
        </div>
        <div class="detail-group">
          <label>Téléphone</label>
          <span>{{ student.telephone || 'Non renseigné' }}</span>
        </div>
        <div class="detail-group">
          <label>Date de naissance</label>
          <span>{{ student.dateNaissance ? formatDate(student.dateNaissance) : 'Non renseignée' }}</span>
        </div>
      </div>

      <!-- Edit Mode -->
      <div *ngIf="isEditing" class="details-edit">
        <form (ngSubmit)="saveProfile()">
          <div class="form-row">
            <div class="form-group">
              <label>Nom *</label>
              <input type="text" [(ngModel)]="editForm.nom" name="nom" required>
            </div>
            <div class="form-group">
              <label>Prénom *</label>
              <input type="text" [(ngModel)]="editForm.prenom" name="prenom" required>
            </div>
          </div>
          
          <div class="form-group">
            <label>Email *</label>
            <input type="email" [(ngModel)]="editForm.email" name="email" required>
          </div>
          
          <div class="form-group">
            <label>Classe</label>
            <input type="text" [(ngModel)]="editForm.classe" name="classe" readonly>
          </div>
          
          <div class="form-group">
            <label>Téléphone</label>
            <input type="tel" [(ngModel)]="editForm.telephone" name="telephone">
          </div>
          
          <div class="form-group">
            <label>Date de naissance</label>
            <input type="date" [(ngModel)]="editForm.dateNaissance" name="dateNaissance">
          </div>
          
          <div class="form-actions">
            <button type="button" class="btn-secondary" (click)="cancelEditing()">
              Annuler
            </button>
            <button type="submit" class="btn-primary">
              Enregistrer
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Additional Info -->
    <div class="additional-info">
      <div class="info-card">
        <h4>Informations Académiques</h4>
        <div class="info-item">
          <span class="info-label">Classe:</span>
          <span class="info-value">{{ student.classe }}</span>
        </div>
        <div class="info-item">
          <span class="info-label">Statut:</span>
          <span class="info-value status-active">Actif</span>
        </div>
      </div>
      
      <div class="info-card">
        <h4>Contact</h4>
        <div class="info-item">
          <span class="info-label">Email:</span>
          <span class="info-value">{{ student.email }}</span>
        </div>
        <div class="info-item">
          <span class="info-label">Téléphone:</span>
          <span class="info-value">{{ student.telephone || 'Non renseigné' }}</span>
        </div>
      </div>
    </div>
  </div>
</div>