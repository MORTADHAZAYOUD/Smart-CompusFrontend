<mat-card 
  class="dashboard-card" 
  [class.clickable]="clickable"
  [class.loading]="loading"
  (click)="onCardClick()">
  
  <mat-card-content>
    <!-- Loading State -->
    <div class="loading-overlay" *ngIf="loading">
      <mat-spinner diameter="30"></mat-spinner>
    </div>

    <!-- Card Content -->
    <div class="card-content" *ngIf="!loading">
      <!-- Header -->
      <div class="card-header">
        <div class="card-title-section">
          <mat-icon 
            *ngIf="data.icon" 
            class="card-icon"
            [style.color]="data.color">
            {{ data.icon }}
          </mat-icon>
          <div class="title-group">
            <h3 class="card-title">{{ data.title }}</h3>
            <p class="card-subtitle" *ngIf="data.subtitle">{{ data.subtitle }}</p>
          </div>
        </div>
        
        <!-- Trend Indicator -->
        <div class="trend-indicator" *ngIf="data.trend">
          <mat-icon 
            [style.color]="getTrendColor(data.trend)"
            class="trend-icon">
            {{ getTrendIcon(data.trend) }}
          </mat-icon>
          <span 
            class="trend-value"
            [style.color]="getTrendColor(data.trend)">
            {{ data.trend?.value }}%
          </span>
        </div>
      </div>

      <!-- Main Value -->
      <div class="card-value" [style.color]="data.color">
        {{ data.value }}
      </div>

              <!-- Action Button -->
        <div class="card-action" *ngIf="data.action">
          <button 
            mat-button 
            color="primary"
            [routerLink]="data.action?.route"
            (click)="data.action?.onClick?.()">
            {{ data.action?.label }}
            <mat-icon>arrow_forward</mat-icon>
          </button>
        </div>
    </div>
  </mat-card-content>
</mat-card>